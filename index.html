<!DOCTYPE html>
<head>
<title>
a
</title>
<style>
#text{
background-color: red;
}
#canvas{
background-color: white;
}
</style>
</head>
<body>
<p id="text">
a
</p>
<canvas width="1000" height="500" id="canvas">
</canvas>
<script>
alert("w");
var idk = 1;
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
var things = [];
function moveEach() {
  things.forEach(idklmao => move(idklmao));
}
function tick() {
 if(things.length < 500) {
   addcircle();
 }
 function drawparticle(object) {
  ctx.beginPath();
  ctx.arc(object[0], object[1], object[2] / 2, 0, Math.PI * 2);
  ctx.fillStyle="skyblue";
  ctx.fill();
  ctx.closePath();
 }
 ctx.clearRect(0,0,canvas.width,canvas.height);
 ctx.fillStyle="gray";
 ctx.fillRect(490, 0, 20, 100);
 ctx.fillRect(200, 200, 200, 10);
 things.forEach(idklmao => update(idklmao));
 things.forEach(idklmao => drawparticle(idklmao));
 moveEach();
 requestAnimationFrame(tick);
}
function collision(a,b) {
 let dx = a[0] + a[3] - b[0] - b[3];
 let dy = a[1] + a[4] - b[1] - b[4];
 let d = Math.sqrt(dy * dy + dx * dx);

  if(d > 2 && d < a[2] + b[2]) {

   a[5] += b[3];
   a[6] += b[4];
   a[5] += dx / d * 4;
   a[6] += dy / d * 4;
   a[7] += 1;
 } 
 if(d > 1 && d < a[2] * 2 + b[2] * 2) {
   a[5] -= dx / d / 4;
   a[6] -= dy / d / 4;
   ctx.beginPath();
   ctx.strokeStyle = "skyblue";
   ctx.lineWidth = String(a[2] / 4);
   ctx.moveTo(a[0], a[1]);
   ctx.lineTo(b[0], b[1]);
   ctx.stroke();
   ctx.closePath();
 }
 }
function update(object) {
 object[4] += 1;
 object[5] = object[3] / 4;
 object[6] = object[4] / 4;
 object[7] = 0.25;

 things.forEach(thing => collision(object,thing));
 object[3] = object[5] / object[7];
 object[4] = object[6] / object[7];
}
function move(object) {
 if(object[4] + object[1] > canvas.height - object[2]) {
  object[4] *= -0.5;
  object[1] = canvas.height - object[2];
  object[3] *= 0.5;
 }
  
 if(object[1] < 200 + object[2] && object[4] + object[1] > 200 - object[2] && object[0] + object[1] < 600 && object[0] + object[1] > 400) {
  object[4] *= -0.5;
  object[1] = 200 - object[2];
  object[3] *= 0.5;
 }
  
 if(object[3] + object[0] > canvas.width - object[2]) {
  object[3] *= -0.5;
  object[0] = canvas.width - object[2];
  object[4] *= 0.5;
 }
if(object[3] + object[0] < object[2]) {
  object[3] *= -0,5;
  object[0] = object[2];
  object[4] *= 0.5;
 }
if(object[4] + object[1] < object[2]) {
  object[4] *= -0,5;
  object[1] = object[2];
  object[3] *= 0.5;
 }
 object[0] += object[3];
 object[1] += object[4];
}
function addcircle() {
things.push([500,100,8,Math.random() * 20 - 10,Math.random() * 40 + 20, 0, 0, 0]);
}
tick();
</script>
</body>