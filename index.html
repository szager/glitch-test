<!DOCTYPE html>
<head>
<title>
a
</title>
<style>
#text{
background-color: red;
}
#canvas{
outline-color: red;
}
</style>
</head>
<body>
<p id="text">
a
</p>
<canvas width="1000" height="500" id="canvas">
</canvas>
<script>
alert("w");
var idk = 1;
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
var things = [];
function attraction(x) {
  let y = 0;
  y = (50 / x) - 1;
  return y;
}
function moveEach() {
  things.forEach(idklmao => move(idklmao));
}
function drawparticle(object) {
  ctx.beginPath();
  ctx.arc(object[0], object[1], object[2], 0, Math.PI * 2);
  ctx.fillStyle="#" + (parseInt(object[7], 10).toString(16)+parseInt(object[7], 16).toString(16)+"ff").padStart(6,"0");
  ctx.fill();
  ctx.closePath();
 }
function tick() {
 if(things.length < 200) {
   addcircle();
 }
 ctx.clearRect(0,0,canvas.width,canvas.height);
 ctx.fillStyle="gray";
 ctx.fillRect(490, 0, 20, 100);
 ctx.fillRect(200, 200, 200, 10);
 things.forEach(idklmao => update(idklmao));
 things.forEach(idklmao => drawparticle(idklmao));
 moveEach();
 requestAnimationFrame(tick);
}
function collision(a,b) {
 let dx = a[0] + a[3] - b[0] - b[3];
 let dy = a[1] + a[4] - b[1] - b[4];
 let d = Math.sqrt(dy * dy + dx * dx);

  if(d >= 1 && d < a[2] + b[2]) {
   a[5] += (dx / d) * attraction(d / a[2] * 20);
   a[6] += (dy / d) * attraction(d / a[2] * 20);
 }
if(d < a[2] + b[2] * 2 && d > 1) {
  a[7] += 1;
  b[7] += 1;
  ctx.beginPath();
  ctx.lineWidth = String((a[2] + b[2]));
  ctx.lineCap = "round";
  ctx.strokeStyle = "skyblue";
  ctx.moveTo(a[0], a[1]);
  ctx.lineTo(b[0], b[1]);
  ctx.stroke();
  ctx.closePath();
}
 }
function update(object) {
 object[7] = 0;
 object[4] += 1;
 object[5] = object[3];
 object[6] = object[4];

 things.forEach(thing => collision(object,thing));
 object[3] = object[5];
 object[4] = object[6];
}
function move(object) {
 if(object[4] + object[1] > canvas.height - object[2]) {
  object[4] *= -0.5;
  object[1] = canvas.height - object[2];
  object[3] *= 0.5;
 }
  
 if(object[3] + object[0] > canvas.width - object[2]) {
  object[3] *= -0.5;
  object[0] = canvas.width - object[2];
  object[4] *= 0.5;
 }
if(object[3] + object[0] < object[2]) {
  object[3] *= -0.5;
  object[0] = object[2];
  object[4] *= 0.5;
 }
if(object[4] + object[1] < object[2]) {
  object[4] *= -0.5;
  object[1] = object[2];
  object[3] *= 0.5;
 }
 object[0] += object[3];
 object[1] += object[4];
}
function addcircle() {
things.push([500,100,10,Math.random() * 5 - 2.5,Math.random() * 5 + 2.5, 0, 0, 0]);
}
document.addEventListener("click", function(event) {
  things.forEach(thing => thing[4] += Math.random() * 50 - 25);
  things.forEach(thing => thing[3] += Math.random() * 50 - 25);
});
tick();
</script>
</body>